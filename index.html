
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>PsPIN</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pspin-a-risc-v-in-network-accelerator-for-flexible-high-performance-low-power-packet-processing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="PsPIN" class="md-header__button md-logo" aria-label="PsPIN" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PsPIN
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/spcl/pspin/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="PsPIN" class="md-nav__button md-logo" aria-label="PsPIN" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    PsPIN
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/spcl/pspin/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-setting-up-the-environment" class="md-nav__link">
    1. Setting up the environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verilating-the-hardware" class="md-nav__link">
    2. Verilating the hardware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-compile-handlers-and-simulation-driver-and-run" class="md-nav__link">
    3. Compile handlers and simulation driver and run!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-check-data" class="md-nav__link">
    4. Check data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="docker.md" class="md-nav__link">
        Docker image
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="compile/" class="md-nav__link">
        Manual installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="examples.md" class="md-nav__link">
        Running examples
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Testing your own handlers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Testing your own handlers" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Testing your own handlers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="handlers_minimal.md" class="md-nav__link">
        Minimal handler
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="api.md" class="md-nav__link">
        sPIN API
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="sim_driver.md" class="md-nav__link">
        Simulation driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-setting-up-the-environment" class="md-nav__link">
    1. Setting up the environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verilating-the-hardware" class="md-nav__link">
    2. Verilating the hardware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-compile-handlers-and-simulation-driver-and-run" class="md-nav__link">
    3. Compile handlers and simulation driver and run!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-check-data" class="md-nav__link">
    4. Check data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/spcl/pspin/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="pspin-a-risc-v-in-network-accelerator-for-flexible-high-performance-low-power-packet-processing">PsPIN: A RISC-V in-network accelerator for flexible high-performance low-power packet processing</h1>
<div align="center"><img src="https://github.com/spcl/pspin/raw/master/overview.svg" alt="PsPIN architecture overview" /></div>

<p>PsPIN [1] is an implementation of the sPIN programming model [2] based on PULP [3]. This repository includes the RTL code implementing PsPIN, the runtime software, and a set of examples to get started. We provide a toolchain that allows to define, build, and test new handlers through cycle-accurate simulations. </p>
<p><strong>Workflow summary:</strong> The RTL code is verilated into C++ modules that are compiled together with the functional models into two libraries: <code>libpspin.so</code> and <code>libpspin_debug.so</code>. To write your own handler, you need to define the handler code and a simulation driver. The handler code must be compiled with RISC-V GCC (link here). The simulation driver interfaces to <code>libpspin.so</code> for (1) initializing the simulation; (2) defining the content of L2 handler memory; (3) defining the handlers to offload; (4) defining and injecting packets to process; (5) handle events generated by the execution of the handlers (e.g., packets being sent or writes/reads to/from host memory). By linking against <code>libpspin_debug.so</code> you make the simulation a <code>waves.vcd</code> that can be explored with any value-change-dump editor (e.g., GTKWave http://gtkwave.sourceforge.net/).</p>
<p><strong>Repo organization:</strong> The repositority has the following structure:</p>
<ul>
<li><code>hw/</code>: Hardware components and simulation logic.</li>
<li><code>hw/deps/</code>: (RTL) Dependencies from the PULP platform (https://github.com/pulp-platform). Some of them have been adapted to fit in the PsPIN design. <strong>License:</strong> SolderPad 0.51.</li>
<li><code>hw/src/</code>: (RTL) PsPIN components. <strong>License:</strong> SolderPad 0.51.</li>
<li><code>hw/verilator_model/</code>: (functional) Components implementing the NIC model shown by the above figure. <strong>License:</strong> Apache 2.0.</li>
<li><code>sw/</code>: Software components. <strong>License:</strong> Apache 2.0.</li>
<li><code>sw/pulp-sdk/</code>: Dependencies from the PULP SDK adapted to fit the PsPIN design. </li>
<li><code>sw/rules/</code>: Makefile rules used to ease simulutions setups and runs. </li>
<li><code>sw/runtime/</code>: HPUs runtime code and support functions for the handlers. </li>
<li><code>sw/script/</code>: utilities for extracting data from the simulation output. </li>
<li><code>examples/</code>: Examples of sPIN handlers. <strong>License:</strong> Apache 2.0.<ul>
<li><code>examples/*/driver/</code>. Simulation driver.</li>
<li><code>examples/*/handlers/</code>. Handlers code.</li>
</ul>
</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>Verilator &gt;= v4.108 (https://www.veripool.org/wiki/verilator)</li>
<li>RISC-V GCC toolchain (source: https://github.com/pulp-platform/pulp-riscv-gnu-toolchain; prebuilt: <a href="http://spclstorage.inf.ethz.ch/~digirols/pspin/riscv-gcc-ubuntu.tar.gz">Ubuntu-x86-64</a>)</li>
</ul>
<h2 id="getting-started">Getting started</h2>
<p>Here is a walkthrough to setup the simulation and run example handlers. </p>
<h3 id="1-setting-up-the-environment">1. Setting up the environment</h3>
<p>Copy the <code>sourceme-template.sh</code> file to <code>sourceme.sh</code> and update the following variables:</p>
<p>```bash
export RISCV_GCC=<path to the RISC-V GCC toolchain binaries, e.g., /home/salvo/riscv-gcc/bin/>
export PSPIN_HW=<path to the hw, e.g., /home/salvo/pspin/hw/>
export PSPIN_RT=<path to the sw, e.g., /home/salvo/pspin/sw/></p>
<pre><code>
**Source this file every time you want to run simulations!**
```bash 
source sourceme.sh
</code></pre>
<h3 id="2-verilating-the-hardware">2. Verilating the hardware</h3>
<p>Verilating the hardware is needed whenever you want test new hardware changes that are not available in the relased packeges. The verilation process can take quite long time (20-30 minutes on a Xeon X7550) and can require up to 16 GB of memory. Consider to use the prebuilt libraries if they fit your use case. </p>
<pre><code class="language-bash">cd hw/verilator_model/

# Compile `libpspin.so`
make release

# (Optional) Compile `libpspin_debug.so`
make debug
</code></pre>
<h3 id="3-compile-handlers-and-simulation-driver-and-run">3. Compile handlers and simulation driver and run!</h3>
<p>Here we show how to compile&amp;run the <code>ping-pong</code> example. Same instructions apply for other examples too. </p>
<pre><code class="language-bash">cd examples/ping_pong
make all
</code></pre>
<p>This prouduces two executable: <code>sim_pingpong</code> (linked against <code>libpspin.so</code>) and <code>sim_pingpong_debug</code> (linked against <code>libpspin_debug.so</code>). Type <code>./sim_pingpong --help</code> to see the possible command-line arguments or just run <code>./sim_pingpong</code> to run with the default arguments.</p>
<h3 id="4-check-data">4. Check data</h3>
<p>The simulation produces a summary at the end that looks like this:</p>
<pre><code>###### Statistics ######
NIC inbound engine:
    Packets: 32; Bytes: 32768
    Avg packet length: 1024.000 B
    Feedback throughput: 443.197 Gbit/s (feedback arrival time: 18.484 ns)
    Packet latency: avg: 119.750 ns; min: 108 ns; max: 155 ns
    HER stalls: 0
----------------------------------
NIC outbound engine:
    Commands: 32; Packets: 32; Bytes: 32768
    Avg packet length: 1024.000 B
    Packet throughput: 443.197 Gbit/s (pkt departure time: 18.484 ns)
----------------------------------
PCIe Slave:
    Writes: beats: 0; bytes: 0; avg throughput: -nan Gbit/s
    Reads: beats: 0; bytes: 0; avg throughput: -nan Gbit/s
----------------------------------
PCIe Master:
    Bytes written: 0; Bytes read: 0
----------------------------------
</code></pre>
<p>It reports information for each of the functional modules (i.e., NIC inbound and outbound engines, PCIe). </p>
<p>To gain more insights, you can type: <code>make info</code> to produce information about the executed handlers:</p>
<pre><code>#[key] handler cluster_id core_id start_time end_time latency instructions loads stores bsws branches l2_accesses local_l1_accesses remote_l1_accesses other_accesses
 pingpong_ph 00 0 1225000 1312000 87000 29 9 10 0 0 0 11 0 8
 pingpong_ph 00 0 1325000 1363000 38000 29 9 10 0 0 0 11 0 8
 pingpong_ph 00 0 1385000 1423000 38000 29 9 10 0 0 0 11 0 8
 pingpong_ph 00 0 1445000 1483000 38000 29 9 10 0 0 0 11 0 8
...
</code></pre>
<p>In particular, it shows for each executed handler, the cluster and core where it has been executed, the starting and ending times (in picoseconds), the duration (in picoseconds), total number of instructions, and number of instructions per instruction class.</p>
<p>We also provide a tool for quick&amp;raw data visualization: <code>make stats</code> (note: needs gnuplot installed). It works only if you redirected the simulation stdout to a <code>transcript</code> file (e.g., <code>./sim_pingpong &gt; transcript</code>).</p>
<p><strong>Debugging:</strong> in order to debug the handlers, you can produce a trace of all executed instructions with <code>make trace</code>. The output reports one instruction per line:</p>
<pre><code>1845000 1841 1000 00 1 pingpong_ph 1d0003b2 ping_pong.c:38 lhu &quot;lhu  x12, 2(x14)         x12=00000400 x14:1000bc00  PA:1000bc02&quot;
</code></pre>
<p>It reports the following information:
 - time at which the instruction completed (picoseconds): <code>1845000</code>
 - time at which the instruction completed (cycles): <code>1845</code>
 - duration (picoseconds): <code>1000</code>
 - cluster ID from where the instruction originated: <code>00</code>
 - core ID (relative to the cluster) from where the instruction originated: <code>1</code>
 - function name: <code>pingpong_ph</code>
 - program counter: <code>1d0003b2</code>
 - file:line: <code>ping_pong.c:38</code>
 - instruction mnemonic: <code>lhu</code>
 - full instruction with actual register values: <code>lhu  x12, 2(x14)         x12=00000400 x14:1000bc00  PA:1000bc02</code></p>
<p>Alternatively, you produce JSON trace with <code>make trace-chrome</code> and visualize them with your browser (type <code>about://tracing</code> in the address bar and load the JSON file). Works on Google Chrome, Chromimum, and Firefox. </p>
<div align="center"><img src="trace_example.png" alt="Visualizing execution traces" /></div>

<p>Note: the tracing tool is available at https://github.com/SalvatoreDiGirolamo/tracevis and can be used to produce enriched traces from RI5CY traces.</p>
<h2 id="citation">Citation</h2>
<p>Please include this citation if you use this work as part of your project:</p>
<pre><code>@inproceedings{pspin,
    title={A RISC-V in-network accelerator for flexible high-performance low-power packet processing},
    author={Di Girolamo, Salvatore and Kurth, Andreas and Calotoiu, Alexandru and Benz, Thomas and Schneider, Timo and Beranek, Jakub and Benini, Luca and Hoefler, Torsten},
    booktitle={2021 ACM/IEEE 48th Annual International Symposium on Computer Architecture (ISCA)},
    year={2021}
}
</code></pre>
<h2 id="references">References</h2>
<p>[1] Di Girolamo Salvatore, Kurth Andreas, Calotoiu Alexandru, Benz Thomas, Schneider Timo, Beranek Jakub, Benini Luca, Hoefler Torsten. "A RISC-V in-network accelerator for flexible high-performance low-power packet processing." 2021 ACM/IEEE 48th Annual International Symposium on Computer Architecture (ISCA). IEEE, 2021. </p>
<p>[2] Hoefler Torsten, Salvatore Di Girolamo, Konstantin Taranov, Ryan E. Grant, and Ron Brightwell. "sPIN: High-performance streaming Processing in the Network." In Proceedings of the International Conference for High Performance Computing, Networking, Storage and Analysis, pp. 1-16. 2017.</p>
<p>[3] Rossi, Davide, Francesco Conti, Andrea Marongiu, Antonio Pullini, Igor Loi, Michael Gautschi, Giuseppe Tagliavini, Alessandro Capotondi, Philippe Flatresse, and Luca Benini. "PULP: A parallel ultra low power platform for next generation IoT applications." In 2015 IEEE Hot Chips 27 Symposium (HCS), pp. 1-39. IEEE, 2015.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        <a href="compile/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Manual installation
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>